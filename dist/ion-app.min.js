webpackJsonp([0],{0:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function d(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:d(o,e,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},c=r(1),l=n(c),p=r(20),f=n(p),h=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),u(e,[{key:"ready",value:function(){this.classList.add(this.platformMode)}},{key:"_computePlatformMode",value:function(t){return"android"===t?"md":t}},{key:"_backButtonTapped",value:function(){window.history.back()}},{key:"props",get:function(){var t=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"props",this);return t.platform={type:String,value:"android"},t.platformMode={type:String,computed:"_computePlatformMode(platform)"},t}},{key:"listeners",get:function(){return{backbutton:"_backButtonTapped"}}}]),e}(f["default"]);l["default"].define("ion-app",h),e["default"]=h},20:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,a){try{var i=e[o](a),u=i.value}catch(s){return void r(s)}return i.done?void t(u):Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)})}return n("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=this,r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var s=i.value;if("function"!=typeof s)throw new TypeError("Middleware must be composed of functions!")}}catch(c){o=!0,a=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw a}}return function(){var r=n(regeneratorRuntime.mark(function o(r,a){var i,u=function(){var e=n(regeneratorRuntime.mark(function o(e){var n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e<=i)){o.next=2;break}throw new Error("next() called multiple times");case 2:if(i=e,n=t[e],e===t.length&&(n=a),n){o.next=7;break}return o.abrupt("return");case 7:return o.next=9,n(r,function(){return u(e+1)});case 9:return o.abrupt("return",o.sent);case 10:case"end":return o.stop()}},o,this)}));return function(t){return e.apply(this,arguments)}}();return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=-1,t.abrupt("return",u(0));case 2:case"end":return t.stop()}},o,e)}));return function(t,e){return r.apply(this,arguments)}}()}var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(1),l=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"handleRouteNotFound",value:function(t){console.error("Route not found: "+t.detail)}},{key:"_titleChanged",value:function(t){document.title=t}},{key:"created",value:function(){c.put("app",this),this.__appSignature=!0,this.location=window.location,this.history=window.history,this.handlers=[],this.middlewares=[],this.__started=!1}},{key:"_hashSeparatorChanged",value:function(t){this.reHashSeparator=new RegExp(t+"(.*)$")}},{key:"attached",value:function(){this.manual||this.async(this.start)}},{key:"__isStatic",value:function(t){return!t.match(/[[{]/)}},{key:"__routeRegExp",value:function(t){var e=t.split("[");if(e.length>2)throw new Error("Invalid use of optional params");var r=[],n=e[0].replace(/{([^}]+)}/g,function(t,e){return r.push(e),"([^/]+)"}).replace(/\//g,"\\/"),o="";return e[1]&&(o="(?:"+e[1].slice(0,-1).replace(/{([^}]+)}/g,function(t,e){return r.push(e),"([^/]+)"}).replace(/\//g,"\\/")+")?"),[new RegExp("^"+n+o+"$"),r]}},{key:"route",value:function(t,e){var r={route:t,type:"s",pattern:null,args:[],callback:e};if(!this.__isStatic(t)){var n=this.__routeRegExp(t);r.type="v",r.pattern=n[0],r.args=n[1]}this.handlers.push(r)}},{key:"start",value:function(){function t(){return e.apply(this,arguments)}var e=n(regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.__started){e.next=2;break}return e.abrupt("return");case 2:return this.__middlewareChainRun=u(this.middlewares),e.next=5,this.__execute();case 5:t=e.sent,t&&(console.info("Started    "+this.__getId()),this.__started=!0,this.__listenNavigation(),this.fire("started"));case 7:case"end":return e.stop()}},r,this)}));return t}()},{key:"__listenNavigation",value:function(){var t=this,e=this.__executeCallback=function(){t.__execute()};"history"===this.mode?(window.addEventListener("popstate",e,!1),document.addEventListener("click",function(t){if(!t.defaultPrevented&&"A"===t.target.nodeName&&""===t.target.target){t.preventDefault();var r={url:t.target.getAttribute("href")};this.history.pushState(r,t.target.innerHTML,t.target.href),e()}}.bind(this))):window.addEventListener("hashchange",e,!1)}},{key:"getFragmentExecutors",value:function(t){return t=t||this.getFragment(),this.handlers.reduce(function(e,r){return"s"===r.type?t===r.route&&e.push({handler:r,args:{}}):"v"===r.type&&!function(){var n=t.match(r.pattern);n&&!function(){var t={};r.args.forEach(function(e,r){t[e]=n[r+1]}),e.push({handler:r,args:t})}()}(),e},[])}},{key:"__execute",value:function(){function t(){return e.apply(this,arguments)}var e=n(regeneratorRuntime.mark(function r(){var t,e,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=this.getFragment(),e=this.getFragmentExecutors(t),0!==e.length){r.next=5;break}return this.fire("route-not-found",t),r.abrupt("return",!1);case 5:return n={uri:t},this.fire("navigated",n),r.next=9,this.__middlewareChainRun(n,function(){e.forEach(function(t){return t.handler.callback(t.args,n)})});case 9:return r.abrupt("return",!0);case 10:case"end":return r.stop()}},r,this)}));return t}()},{key:"navigate",value:function(t,e){if(t=t||"/",e=e||{},"history"===this.mode){var r=this.rootUri+t.toString().replace(/\/$/,"").replace(/^\//,"");this.location.href.replace(this.location.origin,"")!==r&&(this.history[e.replace?"replaceState":"pushState"]({},document.title,r),this.__execute())}else this.location.href.match(this.reHashSeparator),this.location.href=this.location.href.replace(this.reHashSeparator,"")+this.hashSeparator+t;return this}},{key:"use",value:function(t){this.middlewares.push(t)}},{key:"getFragment",value:function(){var t=void 0;if("history"===this.mode)t=decodeURI(this.location.pathname+this.location.search),t=t.replace(/\?(.*)$/,""),t="/"===this.rootUri?t:t.replace(this.rootUri,"");else{var e=this.location.href.match(this.reHashSeparator);t=e?e[1]:""}return"/"+t.toString().replace(/\/$/,"").replace(/^\//,"")}},{key:"props",get:function(){return{docTitle:{type:String,value:"Application",observer:"_titleChanged"},manual:{type:Boolean},mode:{type:String,value:"hash"},rootUri:{type:String,value:"/"},hashSeparator:{type:String,value:"#!",observer:"_hashSeparatorChanged"}}}},{key:"listeners",get:function(){return{"route-not-found":"handleRouteNotFound(evt)"}}},{key:"started",get:function(){return this.__started||!1}}]),e}(c.Component);c.define("xin-app",l),c.App=l,t.exports=l}});
//# sourceMappingURL=ion-app.min.js.map
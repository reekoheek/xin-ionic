{"version":3,"sources":["webpack:///ion-app.min.js","webpack:///./ion-app.js","webpack:///../xin/components/app.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","_xin","_xin2","_app","_app2","IonApp","_App","this","apply","arguments","classList","add","platformMode","platform","window","history","back","type","String","computed","backbutton","define","19","xin","App","_xin$Component","title","document","__appSignature","location","handlers","middlewares","__started","addEventListener","evt","console","error","detail","hashSeparator","reHashSeparator","RegExp","start","pattern","match","str","chunks","split","Error","tokens","re","replace","g","token","push","optRe","slice","route","callback","routeHandler","args","__isStatic","result","__routeRegExp","__starting","async","__tryStart","_this2","check","then","executors","mode","checkAndExecute","bind","defaultPrevented","nodeName","preventDefault","pushState","url","getAttribute","innerHTML","href","info","__getId","fire","fragment","Promise","resolve","reject","getFragment","running","forEach","handler","name","index","err","executers","promise","middleware","executer","uri","stack","path","options","rootUri","toString","origin","decodeURI","pathname","search","observer","Component"],"mappings":"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","file":"ion-app.min.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _xin = __webpack_require__(1);\n\t\n\tvar _xin2 = _interopRequireDefault(_xin);\n\t\n\tvar _app = __webpack_require__(19);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar IonApp = function (_App) {\n\t  _inherits(IonApp, _App);\n\t\n\t  function IonApp() {\n\t    _classCallCheck(this, IonApp);\n\t\n\t    return _possibleConstructorReturn(this, (IonApp.__proto__ || Object.getPrototypeOf(IonApp)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(IonApp, [{\n\t    key: 'ready',\n\t    value: function ready() {\n\t      this.classList.add(this.platformMode);\n\t    }\n\t  }, {\n\t    key: '_computePlatformMode',\n\t    value: function _computePlatformMode(platform) {\n\t      return platform === 'android' ? 'md' : platform;\n\t    }\n\t  }, {\n\t    key: '_backButtonTapped',\n\t    value: function _backButtonTapped() {\n\t      window.history.back();\n\t    }\n\t  }, {\n\t    key: 'props',\n\t    get: function get() {\n\t      var props = _get(IonApp.prototype.__proto__ || Object.getPrototypeOf(IonApp.prototype), 'props', this);\n\t\n\t      props.platform = {\n\t        type: String,\n\t        value: 'android'\n\t      };\n\t\n\t      props.platformMode = {\n\t        type: String,\n\t        computed: '_computePlatformMode(platform)'\n\t      };\n\t\n\t      return props;\n\t    }\n\t  }, {\n\t    key: 'listeners',\n\t    get: function get() {\n\t      return {\n\t        'backbutton': '_backButtonTapped'\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return IonApp;\n\t}(_app2.default);\n\t\n\t_xin2.default.define('ion-app', IonApp);\n\t\n\texports.default = IonApp;\n\n/***/ },\n\n/***/ 19:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar xin = __webpack_require__(1);\n\t\n\tvar App = function (_xin$Component) {\n\t  _inherits(App, _xin$Component);\n\t\n\t  function App() {\n\t    _classCallCheck(this, App);\n\t\n\t    return _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(App, [{\n\t    key: '_titleChanged',\n\t    value: function _titleChanged(title) {\n\t      document.title = title;\n\t    }\n\t  }, {\n\t    key: 'created',\n\t    value: function created() {\n\t      this.__appSignature = true;\n\t      this.location = window.location;\n\t      this.history = window.history;\n\t\n\t      // default values\n\t      this.handlers = [];\n\t      this.middlewares = [];\n\t\n\t      this.__started = false;\n\t\n\t      this.addEventListener('route-not-found', function (evt) {\n\t        console.error('Route not found: ' + evt.detail);\n\t      });\n\t\n\t      // var originalNotify = this.__notify;\n\t      // this.__notify = function (path, value, oldValue) {\n\t      //   originalNotify.apply(this, arguments);\n\t      //   if (path[0] === '$') {\n\t      //     this.fire('property-sync', {\n\t      //       property: path,\n\t      //       value: value,\n\t      //       oldValue: oldValue,\n\t      //     });\n\t      //   }\n\t      // };\n\t    }\n\t  }, {\n\t    key: '_hashSeparatorChanged',\n\t    value: function _hashSeparatorChanged(hashSeparator) {\n\t      this.reHashSeparator = new RegExp(hashSeparator + '(.*)$');\n\t    }\n\t  }, {\n\t    key: 'attached',\n\t    value: function attached() {\n\t      this.start();\n\t    }\n\t  }, {\n\t    key: '__isStatic',\n\t    value: function __isStatic(pattern) {\n\t      return !pattern.match(/[[{]/);\n\t    }\n\t  }, {\n\t    key: '__routeRegExp',\n\t    value: function __routeRegExp(str) {\n\t      var chunks = str.split('[');\n\t\n\t      if (chunks.length > 2) {\n\t        throw new Error('Invalid use of optional params');\n\t      }\n\t\n\t      var tokens = [];\n\t      var re = chunks[0].replace(/{([^}]+)}/g, function (g, token) {\n\t        tokens.push(token);\n\t        return '([^/]+)';\n\t      }).replace(/\\//g, '\\\\/');\n\t\n\t      var optRe = '';\n\t\n\t      if (chunks[1]) {\n\t        optRe = '(?:' + chunks[1].slice(0, -1).replace(/{([^}]+)}/g, function (g, token) {\n\t          tokens.push(token);\n\t          return '([^/]+)';\n\t        }).replace(/\\//g, '\\\\/') + ')?';\n\t      }\n\t      return [new RegExp('^' + re + optRe + '$'), tokens];\n\t    }\n\t  }, {\n\t    key: 'route',\n\t    value: function route(_route, callback) {\n\t      var routeHandler = {\n\t        route: _route,\n\t        type: 's',\n\t        pattern: null,\n\t        args: [],\n\t        callback: callback\n\t      };\n\t\n\t      if (!this.__isStatic(_route)) {\n\t        routeHandler.type = 'v';\n\t        var result = this.__routeRegExp(_route);\n\t        routeHandler.pattern = result[0];\n\t        routeHandler.args = result[1];\n\t      }\n\t\n\t      this.handlers.push(routeHandler);\n\t\n\t      // when app already on starting state but not accomplished yet will try start when one handler pushed\n\t      if (this.__starting) {\n\t        this.__starting = false;\n\t        this.async(this.__tryStart);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      var _this2 = this;\n\t\n\t      this.__starting = true;\n\t      this.check().then(function (executors) {\n\t        if (executors.length > 0) {\n\t          _this2.__starting = false;\n\t          _this2.__tryStart();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: '__tryStart',\n\t    value: function __tryStart() {\n\t      if (this.mode === 'history') {\n\t        window.addEventListener('popstate', this.checkAndExecute.bind(this), false);\n\t        document.addEventListener('click', function (evt) {\n\t          if (!evt.defaultPrevented && evt.target.nodeName === 'A' && evt.target.target === '') {\n\t            evt.preventDefault();\n\t            this.history.pushState({\n\t              url: evt.target.getAttribute('href')\n\t            }, evt.target.innerHTML, evt.target.href);\n\t            this.checkAndExecute();\n\t          }\n\t        }.bind(this));\n\t      } else {\n\t        window.addEventListener('hashchange', this.checkAndExecute.bind(this), false);\n\t      }\n\t\n\t      this.checkAndExecute().then(function () {\n\t        console.info('Started    ' + this.__getId());\n\t        this.fire('started');\n\t        this.__started = true;\n\t      }.bind(this));\n\t    }\n\t  }, {\n\t    key: 'isStarted',\n\t    value: function isStarted() {\n\t      return this.__started || false;\n\t    }\n\t  }, {\n\t    key: 'check',\n\t    value: function check(fragment) {\n\t      return new Promise(function (resolve, reject) {\n\t        try {\n\t          fragment = fragment || this.getFragment();\n\t          var running = [];\n\t          this.handlers.forEach(function (handler) {\n\t            if (handler.type === 's') {\n\t              if (fragment === handler.route) {\n\t                running.push({\n\t                  handler: handler,\n\t                  args: {}\n\t                });\n\t                return;\n\t              }\n\t            } else if (handler.type === 'v') {\n\t              // matches is unused\n\t              // var matches = [];\n\t              var result = fragment.match(handler.pattern);\n\t              // if (result) {\n\t              //   matches = result.slice(1);\n\t              // }\n\t\n\t              if (result) {\n\t                var args = {};\n\t\n\t                handler.args.forEach(function (name, index) {\n\t                  args[name] = result[index + 1];\n\t                });\n\t\n\t                running.push({\n\t                  handler: handler,\n\t                  args: args\n\t                });\n\t              }\n\t            }\n\t          });\n\t\n\t          resolve(running);\n\t        } catch (err) {\n\t          reject(err);\n\t        }\n\t      }.bind(this));\n\t    }\n\t  }, {\n\t    key: 'checkAndExecute',\n\t    value: function checkAndExecute() {\n\t      var fragment = this.getFragment();\n\t\n\t      return this.check(fragment).then(function (executers) {\n\t        if (executers.length) {\n\t          var promise = Promise.resolve();\n\t          this.middlewares.forEach(function (middleware) {\n\t            promise = promise.then(function () {\n\t              return middleware.apply(this);\n\t            }.bind(this));\n\t          }.bind(this));\n\t\n\t          return promise.then(function () {\n\t            executers.forEach(function (executer) {\n\t              executer.handler.callback(executer.args);\n\t            });\n\t\n\t            this.fire('navigated', { uri: fragment });\n\t            return executers;\n\t          }.bind(this));\n\t        }\n\t\n\t        this.fire('route-not-found', fragment);\n\t        return [];\n\t      }.bind(this)).catch(function (err) {\n\t        console.error('Uncaught checkAndExecute error, ' + err.stack);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'navigate',\n\t    value: function navigate(path, options) {\n\t      path = path || '/';\n\t      options = options || {};\n\t\n\t      if (this.mode === 'history') {\n\t        var url = this.rootUri + path.toString().replace(/\\/$/, '').replace(/^\\//, '');\n\t        if (this.location.href.replace(this.location.origin, '') !== url) {\n\t          this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\t          this.checkAndExecute();\n\t        }\n\t      } else {\n\t        this.location.href.match(this.reHashSeparator);\n\t        this.location.href = this.location.href.replace(this.reHashSeparator, '') + this.hashSeparator + path;\n\t      }\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'use',\n\t    value: function use(middleware) {\n\t      this.middlewares.push(middleware);\n\t    }\n\t\n\t    // REMOVED, you can use getFragment()\n\t    // getURI () {\n\t    //   if (this.mode === 'hash') {\n\t    //     return this.location.hash.replace(this.hashSeparator, '') || '/';\n\t    //   } else {\n\t    //     throw new Error('Unimplemented getURI from history mode');\n\t    //   }\n\t    // },\n\t\n\t  }, {\n\t    key: 'getFragment',\n\t    value: function getFragment() {\n\t      var fragment;\n\t      if (this.mode === 'history') {\n\t        fragment = decodeURI(this.location.pathname + this.location.search);\n\t        fragment = fragment.replace(/\\?(.*)$/, '');\n\t        fragment = this.rootUri === '/' ? fragment : fragment.replace(this.rootUri, '');\n\t      } else {\n\t        var match = this.location.href.match(this.reHashSeparator);\n\t        fragment = match ? match[1] : '';\n\t      }\n\t\n\t      return '/' + fragment.toString().replace(/\\/$/, '').replace(/^\\//, '');\n\t    }\n\t  }, {\n\t    key: '$back',\n\t    value: function $back(evt) {\n\t      evt.preventDefault();\n\t      this.history.back();\n\t    }\n\t  }, {\n\t    key: 'props',\n\t    get: function get() {\n\t      return {\n\t        title: {\n\t          type: String,\n\t          value: 'Application',\n\t          observer: '_titleChanged'\n\t        },\n\t\n\t        mode: {\n\t          type: String,\n\t          value: 'hash'\n\t        },\n\t\n\t        rootUri: {\n\t          type: String,\n\t          value: '/'\n\t        },\n\t\n\t        hashSeparator: {\n\t          type: String,\n\t          value: '#!',\n\t          observer: '_hashSeparatorChanged'\n\t        }\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return App;\n\t}(xin.Component);\n\t\n\txin.define('xin-app', App);\n\t\n\txin.App = App;\n\t\n\tmodule.exports = App;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** ion-app.min.js\n **/","import xin from 'xin';\nimport App from 'xin/components/app';\n\nclass IonApp extends App {\n  get props () {\n    let props = super.props;\n\n    props.platform = {\n      type: String,\n      value: 'android',\n    };\n\n    props.platformMode = {\n      type: String,\n      computed: '_computePlatformMode(platform)',\n    };\n\n    return props;\n  }\n\n  get listeners () {\n    return {\n      'backbutton': '_backButtonTapped',\n    };\n  }\n\n  ready () {\n    this.classList.add(this.platformMode);\n  }\n\n  _computePlatformMode (platform) {\n    return platform === 'android' ? 'md' : platform;\n  }\n\n  _backButtonTapped () {\n    window.history.back();\n  }\n}\n\nxin.define('ion-app', IonApp);\n\nexport default IonApp;\n\n\n\n/** WEBPACK FOOTER **\n ** ./ion-app.js\n **/","const xin = require('../src');\n\nclass App extends xin.Component {\n  get props () {\n    return {\n      title: {\n        type: String,\n        value: 'Application',\n        observer: '_titleChanged',\n      },\n\n      mode: {\n        type: String,\n        value: 'hash',\n      },\n\n      rootUri: {\n        type: String,\n        value: '/',\n      },\n\n      hashSeparator: {\n        type: String,\n        value: '#!',\n        observer: '_hashSeparatorChanged',\n      },\n    };\n  }\n\n  _titleChanged (title) {\n    document.title = title;\n  }\n\n  created () {\n    this.__appSignature = true;\n    this.location = window.location;\n    this.history = window.history;\n\n    // default values\n    this.handlers = [];\n    this.middlewares = [];\n\n    this.__started = false;\n\n    this.addEventListener('route-not-found', function (evt) {\n      console.error('Route not found: ' + evt.detail);\n    });\n\n    // var originalNotify = this.__notify;\n    // this.__notify = function (path, value, oldValue) {\n    //   originalNotify.apply(this, arguments);\n    //   if (path[0] === '$') {\n    //     this.fire('property-sync', {\n    //       property: path,\n    //       value: value,\n    //       oldValue: oldValue,\n    //     });\n    //   }\n    // };\n  }\n\n  _hashSeparatorChanged (hashSeparator) {\n    this.reHashSeparator = new RegExp(hashSeparator + '(.*)$');\n  }\n\n  attached () {\n    this.start();\n  }\n\n  __isStatic (pattern) {\n    return !pattern.match(/[[{]/);\n  }\n\n  __routeRegExp (str) {\n    var chunks = str.split('[');\n\n    if (chunks.length > 2) {\n      throw new Error('Invalid use of optional params');\n    }\n\n    var tokens = [];\n    var re = chunks[0].replace(/{([^}]+)}/g, function (g, token) {\n      tokens.push(token);\n      return '([^/]+)';\n    }).replace(/\\//g, '\\\\/');\n\n    var optRe = '';\n\n    if (chunks[1]) {\n      optRe = '(?:' + chunks[1].slice(0, -1).replace(/{([^}]+)}/g, function (g, token) {\n        tokens.push(token);\n        return '([^/]+)';\n      }).replace(/\\//g, '\\\\/') + ')?';\n    }\n    return [new RegExp('^' + re + optRe + '$'), tokens];\n  }\n\n  route (route, callback) {\n    var routeHandler = {\n      route: route,\n      type: 's',\n      pattern: null,\n      args: [],\n      callback: callback,\n    };\n\n    if (!this.__isStatic(route)) {\n      routeHandler.type = 'v';\n      var result = this.__routeRegExp(route);\n      routeHandler.pattern = result[0];\n      routeHandler.args = result[1];\n    }\n\n    this.handlers.push(routeHandler);\n\n    // when app already on starting state but not accomplished yet will try start when one handler pushed\n    if (this.__starting) {\n      this.__starting = false;\n      this.async(this.__tryStart);\n    }\n  }\n\n  start () {\n    this.__starting = true;\n    this.check().then(executors => {\n      if (executors.length > 0) {\n        this.__starting = false;\n        this.__tryStart();\n      }\n    });\n  }\n\n  __tryStart () {\n    if (this.mode === 'history') {\n      window.addEventListener('popstate', this.checkAndExecute.bind(this), false);\n      document.addEventListener('click', function (evt) {\n        if (!evt.defaultPrevented && evt.target.nodeName === 'A' && evt.target.target === '') {\n          evt.preventDefault();\n          this.history.pushState({\n            url: evt.target.getAttribute('href'),\n          }, evt.target.innerHTML, evt.target.href);\n          this.checkAndExecute();\n        }\n      }.bind(this));\n    } else {\n      window.addEventListener('hashchange', this.checkAndExecute.bind(this), false);\n    }\n\n    this.checkAndExecute()\n      .then(function () {\n        console.info('Started    ' + this.__getId());\n        this.fire('started');\n        this.__started = true;\n      }.bind(this));\n  }\n\n  isStarted () {\n    return this.__started || false;\n  }\n\n  check (fragment) {\n    return new Promise(function (resolve, reject) {\n      try {\n        fragment = fragment || this.getFragment();\n        var running = [];\n        this.handlers.forEach(function (handler) {\n          if (handler.type === 's') {\n            if (fragment === handler.route) {\n              running.push({\n                handler: handler,\n                args: {},\n              });\n              return;\n            }\n          } else if (handler.type === 'v') {\n            // matches is unused\n            // var matches = [];\n            var result = fragment.match(handler.pattern);\n            // if (result) {\n            //   matches = result.slice(1);\n            // }\n\n            if (result) {\n              var args = {};\n\n              handler.args.forEach(function (name, index) {\n                args[name] = result[index + 1];\n              });\n\n              running.push({\n                handler: handler,\n                args: args,\n              });\n            }\n          }\n        });\n\n        resolve(running);\n      } catch (err) {\n        reject(err);\n      }\n    }.bind(this));\n  }\n\n  checkAndExecute () {\n    var fragment = this.getFragment();\n\n    return this.check(fragment)\n      .then(function (executers) {\n        if (executers.length) {\n          var promise = Promise.resolve();\n          this.middlewares.forEach(function (middleware) {\n            promise = promise.then(function () {\n              return middleware.apply(this);\n            }.bind(this));\n          }.bind(this));\n\n          return promise.then(function () {\n            executers.forEach(function (executer) {\n              executer.handler.callback(executer.args);\n            });\n\n            this.fire('navigated', {uri: fragment});\n            return executers;\n          }.bind(this));\n        }\n\n        this.fire('route-not-found', fragment);\n        return [];\n      }.bind(this))\n      .catch(function (err) {\n        console.error('Uncaught checkAndExecute error, ' + err.stack);\n      });\n  }\n\n  navigate (path, options) {\n    path = path || '/';\n    options = options || {};\n\n    if (this.mode === 'history') {\n      var url = this.rootUri + path.toString().replace(/\\/$/, '').replace(/^\\//, '');\n      if (this.location.href.replace(this.location.origin, '') !== url) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n        this.checkAndExecute();\n      }\n    } else {\n      this.location.href.match(this.reHashSeparator);\n      this.location.href = this.location.href.replace(this.reHashSeparator, '') + this.hashSeparator + path;\n    }\n    return this;\n  }\n\n  use (middleware) {\n    this.middlewares.push(middleware);\n  }\n\n  // REMOVED, you can use getFragment()\n  // getURI () {\n  //   if (this.mode === 'hash') {\n  //     return this.location.hash.replace(this.hashSeparator, '') || '/';\n  //   } else {\n  //     throw new Error('Unimplemented getURI from history mode');\n  //   }\n  // },\n\n  getFragment () {\n    var fragment;\n    if (this.mode === 'history') {\n      fragment = decodeURI(this.location.pathname + this.location.search);\n      fragment = fragment.replace(/\\?(.*)$/, '');\n      fragment = this.rootUri === '/' ? fragment : fragment.replace(this.rootUri, '');\n    } else {\n      var match = this.location.href.match(this.reHashSeparator);\n      fragment = match ? match[1] : '';\n    }\n\n    return '/' + fragment.toString().replace(/\\/$/, '').replace(/^\\//, '');\n  }\n\n  $back (evt) {\n    evt.preventDefault();\n    this.history.back();\n  }\n}\n\nxin.define('xin-app', App);\n\nxin.App = App;\n\nmodule.exports = App;\n\n\n\n/** WEBPACK FOOTER **\n ** ../xin/components/app.js\n **/"],"sourceRoot":""}